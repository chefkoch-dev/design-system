import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';

<Meta title="Library/List View Item/Recipe List" 
  argTypes={{
    headline: { control: 'text' },
    note: {control: 'text' }
  }}
/>

export const Template = ({ ...args }) => {
  return `
    <div class="ds-container">
      <div class="ds-grid ds-row">
        <div class="ds-col-12">
          <div class="ds-list-view-item ds-list-view-item--hover-bg-from-m ds-list-view-item--recipe">
            <a class="ds-list-view-item__link ds-teaser-link" href="#" title="Der beste Pizzateig">
              <div class="ds-list-view-item__media">
                <div class="ds-list-view-item__image-wrap">
                  <img class="ds-list-view-item__image"
                    width="144" height="108"
                    loading="lazy"
                    srcset="https://api.chefkoch.de/v2/images/crop-288x216/recipes/1151011221381450/images/1022654/crop-960x720 2x,
                    https://api.chefkoch.de/v2/images/crop-144x108/recipes/1151011221381450/images/1022654/crop-960x720 1x" 
                    src="https://api.chefkoch.de/v2/images/crop-144x108/recipes/1151011221381450/images/1022654/crop-960x720"
                    >
                </div>
              </div>
              <div class="ds-list-view-item__body">
                <div class="ds-list-view-item__column ds-list-view-item__column--info">
                  <h4 class="ds-teaser-link__headline ds-list-view-item__headline ds-h4 ds-text-sans ds-trunc ds-trunc-2">${args.headline}</h4>
                  <div class="ds-recipe-info ds-text-caption">
                    <i class="chefkoch-icons ds-recipe-info__icon ds-text-corporate-green-light">time</i>
                    <span class="ds-recipe-info__text ds-text-caption">15 Min.</span>
                    <i class="chefkoch-icons ds-recipe-info__icon ds-recipe-info__icon--ml ds-text-corporate-green-light">difficulty_level</i>
                    <span class="ds-recipe-info__text ds-text-caption">normal</span>
                  </div>
                </div>
                ${args.note !== ''? `<div class="ds-list-view-item__column ds-list-view-item__column--note">
                  <div class="ds-text-toggle">
                    <i class="ds-text-toggle__icon chefkoch-icons">list_collapse</i>
                    <p class="ds-text-toggle__text ds-text-caption ${args.noteCollapsed? 'ds-trunc ds-trunc-3': ''}">&bdquo;${args.note}&rdquo;</p>
                  </div>
                </div>`: ''}
              </div>
            </a>
            <div class="ds-list-view-item__action">
              <div class="ds-dropdown-menu">
                <button class="ds-dropdown-menu__button ds-btn ds-btn--round ds-btn--action-menu ds-btn--size-s">
                  <i class="chefkoch-icons">more_horiz</i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>`;
};

<Canvas>
  <Story name="Recipe List Item" args={{
    headline: 'Der beste Pizzateig, den es weltweit zu finden gibt!',
    note: 'Nach unzÃ¤hligen Feldversuchen, reichlich Google-Recherche und Restaurant-Spionage habe ich endlich ein Rezept entwickelt, das absolut authentisch und lecker schmeckt - eben wie in Bella Italia!',
    noteCollapsed: true
  }}>
    {Template.bind({})}
  </Story>
</Canvas>